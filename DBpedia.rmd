---
title: "Prototype implementation for DBpedia KB"
author: "Mohammad Rifat Ahmmad Rashid"
output:
  html_document: default
  pdf_document: default
---

In this implementation we presents, Dbpedia 10 class quality analysis report based on four quality characteristics: (i) Persistency (ii) Historical Persistency (iii) Consistency (iv) Completeness. We divided the report based on each quality characteristics. Also we presented DBpedia growth analysis measure.

(i) [Class dbo Animal](#class-dbo-animal)
(ii) [Class dbo Artist](#class-dbo-artist)
(iii) [Class dbo Athlete](#class-dbo-athlete)
(iv) [Class dbo Film](#class-dbo-film)
(v) [Class dbo MusicalWork](#class-dbo-musicalwork)
(vi) [Class dbo Organisation](#class-dbo-organisation)
(vii) [Class dbo Place](#class-dbo-place)
(viii) [Class dbo Species](#class-dbo-species)
(ix) [Class dbo Work](#class-dbo-work)
(X) [Class foaf Person](#class-foaf-person)



##Quality Problem Report Overview

###Input

In this implementation the datasets is presented in folder "~/ExperimentalData/DBpedia" where each class property count over DBpedia 11 releases present in a CSV file. Also, the entity count of 10 classes presented in "DBpedia10ClassEntityCount.csv" file. 

```{r}

location="~/ExperimentalData/DBpedia/"

```

The dataset presented in the folder is already processed and build in a intermediate data structure for the quality assessment approach.

To run the rmd file only need to specify the folder location as input data.


###Results Structure

(i) Persistency: A line graph presented to visualize variation on last two DBpedia Release.

(i) Historical Persistency: A table with this classes with persistency issues over the 11 Releases.

(iii) Consistency: Result of property values presented in a table. 1st table with incorrect property values and 2nd table with filtered property values

(iv) Completeness: Result of property values presented in a table with normalized property values and difference between two version of normalized property values.

(v) KB growth: A graph visualizing KB growth.


## Experiment Results

Input: Set Entity file location such as -

```{r}

location<- "/ExperimentalData/DBpedia/"

```

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}

# List of library

library(ggplot2)
library(plyr)
library(dplyr)
library(dtplyr)
library(reshape2)
library(hts)
library('knitr')
library(reshape2)
source("helper.R")

#Implementation of consistency and completeness measures
#Input entity files
# loc<-paste(getwd(),location,sep = "")
# loc<-paste(loc,"DBpedia10ClassEntityCount.csv",sep = "")

property=read.csv("./ExperimentalData/DBpedia/property-id.csv")

entityDataSet <- read.csv("./ExperimentalData/DBpedia/DBpedia10ClassEntityCount.csv")
unclass=unique(entityDataSet$class)
entityWithDays= ddply(entityDataSet,.(class), here(transform), days=fn(Release))

```


### Class dbo Animal

[http://dbpedia.org/ontology/Animal]

Input: set file location such as -

```{r}
location<- "./ExperimentalData/DBpedia/"
```


```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}

entityData=entityDataSet[entityDataSet$class==unclass[1],]

p<-persistencyPlot(entityData)

```

#### Persistency

Persistency Measure Result:  `r entityData[nrow(entityData),3]` value  `r entityData[nrow(entityData),4]` < `r entityData[nrow(entityData)-1,3]` value  `r entityData[nrow(entityData)-1,4]`. So Persistency=  `r persistencyMeasure(entityData)`
Entity Count for 11 Release:

```{r,echo=FALSE}
kable(entityData[,-c(1)], format = "markdown")
shadeAreaP(p,entityData)

```


#### Historical Persitency

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}
histPer<-histPerAll(entityData)

```

Historical Persistency Measure Result: Total no. of class = `r length(unclass)` and No. of persistency=`r nrow(histPer[histPer$Persistency==0,])`. HistPersistencyMeasure= `r HistPersistencyMeasure(histPer)` %

Releases with persistency values:

```{r,echo=FALSE}
kable(histPer[,-c(1)], format = "markdown")
```

#### Consistency

```{r,echo=FALSE,comment=NA, results='hide', message=FALSE, warning=FALSE}
# entityList dbo:Animal Class
entityList=entityDataSet[entityDataSet$class==unclass[1],]

st201604=read.csv("./ExperimentalData/DBpedia/dbo-animal/animal-201604.csv")

st201510=read.csv("./ExperimentalData/DBpedia/dbo-animal/animal-201510.csv")

st201504=read.csv("./ExperimentalData/DBpedia/dbo-animal/animal-201504.csv")

intDataStructure=cbind(property,st201604,st201510,st201504)
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
head(intDataStructure)
# filter
filterData= intDataStructure[intDataStructure$count201510!=0,]
#dencityPlot
```

Threshold value evaluation:

```{r,echo=FALSE,message=FALSE, warning=FALSE}

# nonzero= st201504[st201504$count201504!=0,]
 
# nonzero= st201510[st201504$count201504!=0,]

# nonzero= st201604[st201604$count35!=0,]

nonzero201504 = st201504[st201504$count201504!=0,]
nonzero201504$Release="v201504"
nonzero201504$Frequency=nonzero201504$count201504
nonzero201504$count201504<-NULL

nonzero201510 = st201510[st201510$count201510!=0,]
nonzero201510$Release="v201510"
nonzero201510$Frequency=nonzero201510$count201510
nonzero201510$count201510<-NULL

nonzero201604 = st201604[st201604$count201604!=0,]
nonzero201604$Frequency=nonzero201604$count201604  
nonzero201604$count201604<-NULL
nonzero201604$Release="v201604"

nonzeroAllrelease=rbind(nonzero201604,nonzero201510,nonzero201504)

lastRelease=cbind(property,st201604)
lastRelease$id<-NULL
lastRelease$id<-NULL
# head(lastRelease)

lastReleaseDataset=lastRelease[lastRelease$count201604!=0,]

total=nrow(lastReleaseDataset)

no.incomplete=nrow(lastReleaseDataset[lastReleaseDataset$count201604<100,])

```

```{r,echo=FALSE}

ggplot(nonzeroAllrelease, aes(Frequency, fill = Release, colour = Release)) +
  geom_density(alpha = 0.1) +
  scale_x_continuous(trans='log10')+ 
  geom_vline(aes(xintercept=100),color="blue", linetype="dashed", size=.1)+ xlab("log10(Property Frequency)") 

```

Property list in 201604 with frequency:

```{r,echo=FALSE}


kable(lastReleaseDataset, format = "markdown")

#head(FilteredProperty)

```

No. of inconsistent property in 201604 release for Threshold value of 100 = `r no.incomplete`

```{r,echo=FALSE}
kable(lastReleaseDataset[lastReleaseDataset$count<100,], format = "markdown")
```


#### Completeness

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}

#----------------------------Completeness-------------------------------#
st=cbind(property,st201604,st201510)
# nrow(st)
st$id<-NULL
st$id<-NULL
st$id<-NULL
st$id<-NULL
head(st)

# normalized the value 
value201510= entityList[entityList$Release=="2015-10-02",]
value201604= entityList[entityList$Release=="2016-04-01",]

# Set last two releases
fullDataset=st[st$count201510!=0,]
# change header
# colnames(fullDataset)[which(names(fullDataset) == "count35")] <- "count201604"

nromFullDataSet=fullDataset

nromFullDataSet$norm201510=fullDataset$count201510/value201510$count

nromFullDataSet$norm201604=fullDataset$count201604/value201604$count

nromFullDataSet$diff=nromFullDataSet$norm201604-nromFullDataSet$norm201510

length(which(nromFullDataSet$diff<0))

nromFullDataSet$Complete=ifelse(nromFullDataSet$diff<0,0,1)

normCompletenssValue=nromFullDataSet[nromFullDataSet$count201604<nromFullDataSet$count201510,]

tableCompleteness=data.frame(Property=nromFullDataSet$property,v201604=nromFullDataSet$norm201604,v20510=nromFullDataSet$norm201510,Complete=nromFullDataSet$Complete)

# nrow(normCompletenssValue)

# Completeness value
completenessValue=fullDataset[fullDataset$count201604<fullDataset$count201510,]

```

List of Property over last two version:

```{r,echo=FALSE}
kable(tableCompleteness, format = "markdown")

```

Total no. of property =`r length(nromFullDataSet$norm201604)` No. of incomplete property = `r nrow(completenessValue)`

Percentage of completeness= `r ((length(nromFullDataSet$norm201604)-nrow(completenessValue))/length(nromFullDataSet$norm201604)) *100` %


List of incomplete property:

```{r,echo=FALSE}
kable(tableCompleteness[tableCompleteness$Complete==0,], format = "markdown")

```

#### KB growth 


```{r,echo=FALSE}

entity<-entityWithDays[entityWithDays$class==unclass[1],]

ND<-NormDist(entity)

graph<-plotEntity(entity)

graph

stab<-CheckND(ND)

```

The normalized distance(ND)= `r ND`

KB growth condition is 1 if ND<1 or KB growth is 0 if ND>=1

KB growth=`r stab`



### Class dbo Artist

[http://dbpedia.org/ontology/Artist]

Input: Set file location such as -

```{r}
location<- "/ExperimentalData/DBpedia/"
```

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}

entityData=entityDataSet[entityDataSet$class==unclass[2],]

p<-persistencyPlot(entityData)

```

#### Persistency

Persistency Measure Result:  `r entityData[nrow(entityData),3]` value  `r entityData[nrow(entityData),4]` < `r entityData[nrow(entityData)-1,3]` value  `r entityData[nrow(entityData)-1,4]`. So Persistency=  `r persistencyMeasure(entityData)`
Entity Count for 11 Release:

```{r,echo=FALSE}
kable(entityData[,-c(1)], format = "markdown")
shadeAreaP(p,entityData)

```


#### Historical Persitency

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}
histPer<-histPerAll(entityData)

```

Historical Persistency Measure Result: Total no. of class = `r length(unclass)` and No. of persistency=`r nrow(histPer[histPer$Persistency==0,])`. HistPersistencyMeasure= `r HistPersistencyMeasure(histPer)` %

Releases with persistency values:

```{r,echo=FALSE}
kable(histPer[,-c(1)], format = "markdown")
```


#### Consistency

```{r,echo=FALSE,comment=NA, results='hide', message=FALSE, warning=FALSE}
# entityList dbo:Animal Class
entityList=entityDataSet[entityDataSet$class==unclass[1],]

st201604=read.csv("./ExperimentalData/DBpedia/dbo-artist/artist-201604.csv")

st201510=read.csv("./ExperimentalData/DBpedia/dbo-artist/artist-201510.csv")

st201504=read.csv("./ExperimentalData/DBpedia/dbo-artist/artist-201504.csv")

intDataStructure=cbind(property,st201604,st201510,st201504)
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
head(intDataStructure)
# filter
filterData= intDataStructure[intDataStructure$count201510!=0,]
#dencityPlot
```

Threshold value evaluation:

```{r,echo=FALSE,message=FALSE, warning=FALSE}

# nonzero= st201504[st201504$count201504!=0,]
 
# nonzero= st201510[st201504$count201504!=0,]

# nonzero= st201604[st201604$count35!=0,]

nonzero201504 = st201504[st201504$count201504!=0,]
nonzero201504$Release="v201504"
nonzero201504$Frequency=nonzero201504$count201504
nonzero201504$count201504<-NULL

nonzero201510 = st201510[st201510$count201510!=0,]
nonzero201510$Release="v201510"
nonzero201510$Frequency=nonzero201510$count201510
nonzero201510$count201510<-NULL

nonzero201604 = st201604[st201604$count201604!=0,]
nonzero201604$Frequency=nonzero201604$count201604  
nonzero201604$count201604<-NULL
nonzero201604$Release="v201604"

nonzeroAllrelease=rbind(nonzero201604,nonzero201510,nonzero201504)

lastRelease=cbind(property,st201604)
lastRelease$id<-NULL
lastRelease$id<-NULL
# head(lastRelease)

lastReleaseDataset=lastRelease[lastRelease$count201604!=0,]

total=nrow(lastReleaseDataset)

no.incomplete=nrow(lastReleaseDataset[lastReleaseDataset$count201604<100,])

```

```{r,echo=FALSE}

ggplot(nonzeroAllrelease, aes(Frequency, fill = Release, colour = Release)) +
  geom_density(alpha = 0.1) +
  scale_x_continuous(trans='log10')+ 
  geom_vline(aes(xintercept=100),color="blue", linetype="dashed", size=.1)+ xlab("log10(Property Frequency)") 

```

Property list in 201604 with frequency:

```{r,echo=FALSE}


kable(lastReleaseDataset, format = "markdown")

#head(FilteredProperty)

```

No. of inconsistent property in 201604 release for Threshold value of 100 = `r no.incomplete`

```{r,echo=FALSE}
kable(lastReleaseDataset[lastReleaseDataset$count<100,], format = "markdown")
```


#### Completeness

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}

#----------------------------Completeness-------------------------------#
st=cbind(property,st201604,st201510)
# nrow(st)
st$id<-NULL
st$id<-NULL
st$id<-NULL
st$id<-NULL
head(st)

# normalized the value 
value201510= entityList[entityList$Release=="2015-10-02",]
value201604= entityList[entityList$Release=="2016-04-01",]

# Set last two releases
fullDataset=st[st$count201510!=0,]
# change header
# colnames(fullDataset)[which(names(fullDataset) == "count35")] <- "count201604"

nromFullDataSet=fullDataset

nromFullDataSet$norm201510=fullDataset$count201510/value201510$count

nromFullDataSet$norm201604=fullDataset$count201604/value201604$count

nromFullDataSet$diff=nromFullDataSet$norm201604-nromFullDataSet$norm201510

length(which(nromFullDataSet$diff<0))

nromFullDataSet$Complete=ifelse(nromFullDataSet$diff<0,0,1)

normCompletenssValue=nromFullDataSet[nromFullDataSet$count201604<nromFullDataSet$count201510,]

tableCompleteness=data.frame(Property=nromFullDataSet$property,v201604=nromFullDataSet$norm201604,v20510=nromFullDataSet$norm201510,Complete=nromFullDataSet$Complete)

# nrow(normCompletenssValue)

# Completeness value
completenessValue=fullDataset[fullDataset$count201604<fullDataset$count201510,]

```

List of Property over last two version:

```{r,echo=FALSE}
kable(tableCompleteness, format = "markdown")

```

Total no. of property =`r length(nromFullDataSet$norm201604)` No. of incomplete property = `r nrow(completenessValue)`

Percentage of completeness= `r ((length(nromFullDataSet$norm201604)-nrow(completenessValue))/length(nromFullDataSet$norm201604)) *100` %


List of incomplete property:

```{r,echo=FALSE}
kable(tableCompleteness[tableCompleteness$Complete==0,], format = "markdown")

```

#### KB growth 


```{r,echo=FALSE}

entity<-entityWithDays[entityWithDays$class==unclass[2],]

ND<-NormDist(entity)

graph<-plotEntity(entity)

graph

stab<-CheckND(ND)

```
The normalized distance(ND)= `r ND`

KB growth condition is 1 if ND<1 or KB growth is 0 if ND>=1

KB growth=`r stab`

### Class dbo Athlete

[http://dbpedia.org/ontology/Athlete]

Input: Set file location such as -

```{r}
location<- "/ExperimentalData/DBpedia/"
```

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}


entityData=entityDataSet[entityDataSet$class==unclass[3],]

p<-persistencyPlot(entityData)

```

#### Persistency

Persistency Measure Result:  `r entityData[nrow(entityData),3]` value  `r entityData[nrow(entityData),4]` < `r entityData[nrow(entityData)-1,3]` value  `r entityData[nrow(entityData)-1,4]`. So Persistency=  `r persistencyMeasure(entityData)`
Entity Count for 11 Release:

```{r,echo=FALSE}
kable(entityData[,-c(1)], format = "markdown")
shadeAreaP(p,entityData)

```


#### Historical Persitency

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}
histPer<-histPerAll(entityData)

```

Historical Persistency Measure Result: Total no. of class = `r length(unclass)` and No. of persistency=`r nrow(histPer[histPer$Persistency==0,])`. HistPersistencyMeasure= `r HistPersistencyMeasure(histPer)` %

Releases with persistency values:

```{r,echo=FALSE}
kable(histPer[,-c(1)], format = "markdown")
```

#### Consistency

```{r,echo=FALSE,comment=NA, results='hide', message=FALSE, warning=FALSE}
# entityList dbo:Animal Class
entityList=entityDataSet[entityDataSet$class==unclass[1],]

st201604=read.csv("./ExperimentalData/DBpedia/dbo-athlete/athlete-201604.csv")

st201510=read.csv("./ExperimentalData/DBpedia/dbo-athlete/athlete-201510.csv")

st201504=read.csv("./ExperimentalData/DBpedia/dbo-athlete/athlete-201504.csv")

intDataStructure=cbind(property,st201604,st201510,st201504)
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
head(intDataStructure)
# filter
filterData= intDataStructure[intDataStructure$count201510!=0,]
#dencityPlot
```

Threshold value evaluation:

```{r,echo=FALSE,message=FALSE, warning=FALSE}

# nonzero= st201504[st201504$count201504!=0,]
 
# nonzero= st201510[st201504$count201504!=0,]

# nonzero= st201604[st201604$count35!=0,]

nonzero201504 = st201504[st201504$count201504!=0,]
nonzero201504$Release="v201504"
nonzero201504$Frequency=nonzero201504$count201504
nonzero201504$count201504<-NULL

nonzero201510 = st201510[st201510$count201510!=0,]
nonzero201510$Release="v201510"
nonzero201510$Frequency=nonzero201510$count201510
nonzero201510$count201510<-NULL

nonzero201604 = st201604[st201604$count201604!=0,]
nonzero201604$Frequency=nonzero201604$count201604  
nonzero201604$count201604<-NULL
nonzero201604$Release="v201604"

nonzeroAllrelease=rbind(nonzero201604,nonzero201510,nonzero201504)

lastRelease=cbind(property,st201604)
lastRelease$id<-NULL
lastRelease$id<-NULL
# head(lastRelease)

lastReleaseDataset=lastRelease[lastRelease$count201604!=0,]

total=nrow(lastReleaseDataset)

no.incomplete=nrow(lastReleaseDataset[lastReleaseDataset$count201604<100,])

```

```{r,echo=FALSE}

ggplot(nonzeroAllrelease, aes(Frequency, fill = Release, colour = Release)) +
  geom_density(alpha = 0.1) +
  scale_x_continuous(trans='log10')+ 
  geom_vline(aes(xintercept=100),color="blue", linetype="dashed", size=.1)+ xlab("log10(Property Frequency)") 
 
```

Property list in 201604 with frequency:

```{r,echo=FALSE}


kable(lastReleaseDataset, format = "markdown")

#head(FilteredProperty)

```

No. of inconsistent property in 201604 release for Threshold value of 100 = `r no.incomplete`

```{r,echo=FALSE}
kable(lastReleaseDataset[lastReleaseDataset$count<100,], format = "markdown")
```


#### Completeness

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}

#----------------------------Completeness-------------------------------#
st=cbind(property,st201604,st201510)
# nrow(st)
st$id<-NULL
st$id<-NULL
st$id<-NULL
st$id<-NULL
head(st)

# normalized the value 
value201510= entityList[entityList$Release=="2015-10-02",]
value201604= entityList[entityList$Release=="2016-04-01",]

# Set last two releases
fullDataset=st[st$count201510!=0,]
# change header
# colnames(fullDataset)[which(names(fullDataset) == "count35")] <- "count201604"

nromFullDataSet=fullDataset

nromFullDataSet$norm201510=fullDataset$count201510/value201510$count

nromFullDataSet$norm201604=fullDataset$count201604/value201604$count

nromFullDataSet$diff=nromFullDataSet$norm201604-nromFullDataSet$norm201510

length(which(nromFullDataSet$diff<0))

nromFullDataSet$Complete=ifelse(nromFullDataSet$diff<0,0,1)

normCompletenssValue=nromFullDataSet[nromFullDataSet$count201604<nromFullDataSet$count201510,]

tableCompleteness=data.frame(Property=nromFullDataSet$property,v201604=nromFullDataSet$norm201604,v20510=nromFullDataSet$norm201510,Complete=nromFullDataSet$Complete)

# nrow(normCompletenssValue)

# Completeness value
 completenessValue=fullDataset[fullDataset$count201604<fullDataset$count201510,]

```

List of Property over last two version:

```{r,echo=FALSE}
kable(tableCompleteness, format = "markdown")

```

Total no. of property =`r length(nromFullDataSet$norm201604)` No. of incomplete property = `r nrow(completenessValue)`

Percentage of completeness= `r ((length(nromFullDataSet$norm201604)-nrow(completenessValue))/length(nromFullDataSet$norm201604)) *100` %


List of incomplete property:

```{r,echo=FALSE}
kable(tableCompleteness[tableCompleteness$Complete==0,], format = "markdown")

```
#### KB growth 


```{r,echo=FALSE}

entity<-entityWithDays[entityWithDays$class==unclass[3],]

ND<-NormDist(entity)

graph<-plotEntity(entity)

graph

stab<-CheckND(ND)

```
The normalized distance(ND)= `r ND`

KB growth condition is 1 if ND<1 or KB growth is 0 if ND>=1

KB growth=`r stab`


### Class dbo Film

[http://dbpedia.org/ontology/Film]

Input: Set file location such as -

```{r}
location<- "/ExperimentalData/DBpedia/"
```

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}




entityData=entityDataSet[entityDataSet$class==unclass[4],]

p<-persistencyPlot(entityData)

```

#### Persistency

Persistency Measure Result:  `r entityData[nrow(entityData),3]` value  `r entityData[nrow(entityData),4]` < `r entityData[nrow(entityData)-1,3]` value  `r entityData[nrow(entityData)-1,4]`. So Persistency=  `r persistencyMeasure(entityData)`
Entity Count for 11 Release:

```{r,echo=FALSE}
kable(entityData[,-c(1)], format = "markdown")
shadeAreaP(p,entityData)

```


#### Historical Persitency

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}
histPer<-histPerAll(entityData)

```

Historical Persistency Measure Result: Total no. of class = `r length(unclass)` and No. of persistency=`r nrow(histPer[histPer$Persistency==0,])`. HistPersistencyMeasure= `r HistPersistencyMeasure(histPer)` %

Releases with persistency values:

```{r,echo=FALSE}
kable(histPer[,-c(1)], format = "markdown")
```



#### Consistency

```{r,echo=FALSE,comment=NA, results='hide', message=FALSE, warning=FALSE}
# entityList dbo:Animal Class
entityList=entityDataSet[entityDataSet$class==unclass[1],]

st201604=read.csv("./ExperimentalData/DBpedia/dbo-film/film-201604.csv")

st201510=read.csv("./ExperimentalData/DBpedia/dbo-film/film-201510.csv")

st201504=read.csv("./ExperimentalData/DBpedia/dbo-film/film-201504.csv")

intDataStructure=cbind(property,st201604,st201510,st201504)
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
head(intDataStructure)
# filter
filterData= intDataStructure[intDataStructure$count201510!=0,]
#dencityPlot
```

Threshold value evaluation:

```{r,echo=FALSE,message=FALSE, warning=FALSE}

# nonzero= st201504[st201504$count201504!=0,]
 
# nonzero= st201510[st201504$count201504!=0,]

# nonzero= st201604[st201604$count35!=0,]

nonzero201504 = st201504[st201504$count201504!=0,]
nonzero201504$Release="v201504"
nonzero201504$Frequency=nonzero201504$count201504
nonzero201504$count201504<-NULL

nonzero201510 = st201510[st201510$count201510!=0,]
nonzero201510$Release="v201510"
nonzero201510$Frequency=nonzero201510$count201510
nonzero201510$count201510<-NULL

nonzero201604 = st201604[st201604$count201604!=0,]
nonzero201604$Frequency=nonzero201604$count201604  
nonzero201604$count201604<-NULL
nonzero201604$Release="v201604"

nonzeroAllrelease=rbind(nonzero201604,nonzero201510,nonzero201504)

lastRelease=cbind(property,st201604)
lastRelease$id<-NULL
lastRelease$id<-NULL
# head(lastRelease)

lastReleaseDataset=lastRelease[lastRelease$count201604!=0,]

total=nrow(lastReleaseDataset)

no.incomplete=nrow(lastReleaseDataset[lastReleaseDataset$count201604<100,])

```

```{r,echo=FALSE}

ggplot(nonzeroAllrelease, aes(Frequency, fill = Release, colour = Release)) +
  geom_density(alpha = 0.1) +
  scale_x_continuous(trans='log10')+ 
  geom_vline(aes(xintercept=100),color="blue", linetype="dashed", size=.1)+ xlab("log10(Property Frequency)") 

```

Property list in 201604 with frequency:

```{r,echo=FALSE}


kable(lastReleaseDataset, format = "markdown")

#head(FilteredProperty)

```

No. of inconsistent property in 201604 release for Threshold value of 100 = `r no.incomplete`

```{r,echo=FALSE}
kable(lastReleaseDataset[lastReleaseDataset$count<100,], format = "markdown")
```


#### Completeness

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}

#----------------------------Completeness-------------------------------#
st=cbind(property,st201604,st201510)
# nrow(st)
st$id<-NULL
st$id<-NULL
st$id<-NULL
st$id<-NULL
head(st)

# normalized the value 
value201510= entityList[entityList$Release=="2015-10-02",]
value201604= entityList[entityList$Release=="2016-04-01",]

# Set last two releases
fullDataset=st[st$count201510!=0,]
# change header
# colnames(fullDataset)[which(names(fullDataset) == "count35")] <- "count201604"

nromFullDataSet=fullDataset

nromFullDataSet$norm201510=fullDataset$count201510/value201510$count

nromFullDataSet$norm201604=fullDataset$count201604/value201604$count

nromFullDataSet$diff=nromFullDataSet$norm201604-nromFullDataSet$norm201510

length(which(nromFullDataSet$diff<0))

nromFullDataSet$Complete=ifelse(nromFullDataSet$diff<0,0,1)

normCompletenssValue=nromFullDataSet[nromFullDataSet$count201604<nromFullDataSet$count201510,]

tableCompleteness=data.frame(Property=nromFullDataSet$property,v201604=nromFullDataSet$norm201604,v20510=nromFullDataSet$norm201510,Complete=nromFullDataSet$Complete)

# nrow(normCompletenssValue)

# Completeness value
completenessValue=fullDataset[fullDataset$count201604<fullDataset$count201510,]

```

List of Property over last two version:

```{r,echo=FALSE}
kable(tableCompleteness, format = "markdown")

```

Total no. of property =`r length(nromFullDataSet$norm201604)` No. of incomplete property = `r nrow(completenessValue)`

Percentage of completeness= `r ((length(nromFullDataSet$norm201604)-nrow(completenessValue))/length(nromFullDataSet$norm201604)) *100` %


List of incomplete property:

```{r,echo=FALSE}
kable(tableCompleteness[tableCompleteness$Complete==0,], format = "markdown")

```

#### KB growth 


```{r,echo=FALSE}

entity<-entityWithDays[entityWithDays$class==unclass[4],]

ND<-NormDist(entity)

graph<-plotEntity(entity)

graph

stab<-CheckND(ND)

```
The normalized distance(ND)= `r ND`

KB growth condition is 1 if ND<1 or KB growth is 0 if ND>=1

KB growth=`r stab`

### Class dbo MusicalWork

[http://dbpedia.org/ontology/MusicalWork]

Input: Set file location such as -

```{r}
location<- "/ExperimentalData/DBpedia/"
```

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}

entityData=entityDataSet[entityDataSet$class==unclass[5],]

p<-persistencyPlot(entityData)

```

#### Persistency

Persistency Measure Result:  `r entityData[nrow(entityData),3]` value  `r entityData[nrow(entityData),4]` < `r entityData[nrow(entityData)-1,3]` value  `r entityData[nrow(entityData)-1,4]`. So Persistency=  `r persistencyMeasure(entityData)`
Entity Count for 11 Release:

```{r,echo=FALSE}
kable(entityData[,-c(1)], format = "markdown")
shadeAreaP(p,entityData)

```


#### Historical Persitency

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}
histPer<-histPerAll(entityData)

```

Historical Persistency Measure Result: Total no. of class = `r length(unclass)` and No. of persistency=`r nrow(histPer[histPer$Persistency==0,])`. HistPersistencyMeasure= `r HistPersistencyMeasure(histPer)` %

Releases with persistency values:

```{r,echo=FALSE}
kable(histPer[,-c(1)], format = "markdown")
```


#### Consistency

```{r,echo=FALSE,comment=NA, results='hide', message=FALSE, warning=FALSE}
# entityList dbo:Animal Class
entityList=entityDataSet[entityDataSet$class==unclass[1],]

st201604=read.csv("./ExperimentalData/DBpedia/dbo-musicalWork/musicalWork-201604.csv")

st201510=read.csv("./ExperimentalData/DBpedia/dbo-musicalWork/musicalWork-201510.csv")

st201504=read.csv("./ExperimentalData/DBpedia/dbo-musicalWork/musicalWork-201504.csv")

intDataStructure=cbind(property,st201604,st201510,st201504)
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
head(intDataStructure)
# filter
filterData= intDataStructure[intDataStructure$count201510!=0,]
#dencityPlot
```

Threshold value evaluation:

```{r,echo=FALSE,message=FALSE, warning=FALSE}

# nonzero= st201504[st201504$count201504!=0,]
 
# nonzero= st201510[st201504$count201504!=0,]

# nonzero= st201604[st201604$count35!=0,]

nonzero201504 = st201504[st201504$count201504!=0,]
nonzero201504$Release="v201504"
nonzero201504$Frequency=nonzero201504$count201504
nonzero201504$count201504<-NULL

nonzero201510 = st201510[st201510$count201510!=0,]
nonzero201510$Release="v201510"
nonzero201510$Frequency=nonzero201510$count201510
nonzero201510$count201510<-NULL

nonzero201604 = st201604[st201604$count201604!=0,]
nonzero201604$Frequency=nonzero201604$count201604  
nonzero201604$count201604<-NULL
nonzero201604$Release="v201604"

nonzeroAllrelease=rbind(nonzero201604,nonzero201510,nonzero201504)

lastRelease=cbind(property,st201604)
lastRelease$id<-NULL
lastRelease$id<-NULL
# head(lastRelease)

lastReleaseDataset=lastRelease[lastRelease$count201604!=0,]

total=nrow(lastReleaseDataset)

no.incomplete=nrow(lastReleaseDataset[lastReleaseDataset$count201604<100,])

```

```{r,echo=FALSE}

ggplot(nonzeroAllrelease, aes(Frequency, fill = Release, colour = Release)) +
  geom_density(alpha = 0.1) +
  scale_x_continuous(trans='log10')+ 
  geom_vline(aes(xintercept=100),color="blue", linetype="dashed", size=.1)+ xlab("log10(Property Frequency)") 
  
```

Property list in 201604 with frequency:

```{r,echo=FALSE}


kable(lastReleaseDataset, format = "markdown")

#head(FilteredProperty)

```

No. of inconsistent property in 201604 release for Threshold value of 100 = `r no.incomplete`

```{r,echo=FALSE}
kable(lastReleaseDataset[lastReleaseDataset$count<100,], format = "markdown")
```


#### Completeness

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}

#----------------------------Completeness-------------------------------#
st=cbind(property,st201604,st201510)
# nrow(st)
st$id<-NULL
st$id<-NULL
st$id<-NULL
st$id<-NULL
head(st)

# normalized the value 
value201510= entityList[entityList$Release=="2015-10-02",]
value201604= entityList[entityList$Release=="2016-04-01",]

# Set last two releases
fullDataset=st[st$count201510!=0,]
# change header
# colnames(fullDataset)[which(names(fullDataset) == "count35")] <- "count201604"

nromFullDataSet=fullDataset

nromFullDataSet$norm201510=fullDataset$count201510/value201510$count

nromFullDataSet$norm201604=fullDataset$count201604/value201604$count

nromFullDataSet$diff=nromFullDataSet$norm201604-nromFullDataSet$norm201510

length(which(nromFullDataSet$diff<0))

nromFullDataSet$Complete=ifelse(nromFullDataSet$diff<0,0,1)

normCompletenssValue=nromFullDataSet[nromFullDataSet$count201604<nromFullDataSet$count201510,]

tableCompleteness=data.frame(Property=nromFullDataSet$property,v201604=nromFullDataSet$norm201604,v20510=nromFullDataSet$norm201510,Complete=nromFullDataSet$Complete)

# nrow(normCompletenssValue)

# Completeness value
 completenessValue=fullDataset[fullDataset$count201604<fullDataset$count201510,]

```

List of Property over last two version:

```{r,echo=FALSE}
kable(tableCompleteness, format = "markdown")

```

Total no. of property =`r length(nromFullDataSet$norm201604)` No. of incomplete property = `r nrow(completenessValue)`

Percentage of completeness= `r ((length(nromFullDataSet$norm201604)-nrow(completenessValue))/length(nromFullDataSet$norm201604)) *100` %


List of incomplete property:

```{r,echo=FALSE}
kable(tableCompleteness[tableCompleteness$Complete==0,], format = "markdown")

```

#### KB growth 


```{r,echo=FALSE}

entity<-entityWithDays[entityWithDays$class==unclass[5],]

ND<-NormDist(entity)

graph<-plotEntity(entity)

graph

stab<-CheckND(ND)

```
The normalized distance(ND)= `r ND`

KB growth condition is 1 if ND<1 or KB growth is 0 if ND>=1

KB growth=`r stab`

### Class dbo Organisation

[http://dbpedia.org/ontology/Organisation]

Input: Set file location such as -

```{r}
location<- "/ExperimentalData/DBpedia/"
```

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}

entityData=entityDataSet[entityDataSet$class==unclass[6],]

p<-persistencyPlot(entityData)

```

#### Persistency

Persistency Measure Result:  `r entityData[nrow(entityData),3]` value  `r entityData[nrow(entityData),4]` < `r entityData[nrow(entityData)-1,3]` value  `r entityData[nrow(entityData)-1,4]`. So Persistency=  `r persistencyMeasure(entityData)`
Entity Count for 11 Release:

```{r,echo=FALSE}
kable(entityData[,-c(1)], format = "markdown")
shadeAreaP(p,entityData)

```


#### Historical Persitency

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}
histPer<-histPerAll(entityData)

```

Historical Persistency Measure Result: Total no. of class = `r length(unclass)` and No. of persistency=`r nrow(histPer[histPer$Persistency==0,])`. HistPersistencyMeasure= `r HistPersistencyMeasure(histPer)` %

Releases with persistency values:

```{r,echo=FALSE}
kable(histPer[,-c(1)], format = "markdown")
```

#### Consistency

```{r,echo=FALSE,comment=NA, results='hide', message=FALSE, warning=FALSE}
# entityList dbo:Animal Class
entityList=entityDataSet[entityDataSet$class==unclass[1],]

st201604=read.csv("./ExperimentalData/DBpedia/dbo-organisation/org-201604.csv")

st201510=read.csv("./ExperimentalData/DBpedia/dbo-organisation/org-201510.csv")

st201504=read.csv("./ExperimentalData/DBpedia/dbo-organisation/org-201504.csv")

intDataStructure=cbind(property,st201604,st201510,st201504)
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
head(intDataStructure)
# filter
filterData= intDataStructure[intDataStructure$count201510!=0,]
#dencityPlot
```

Threshold value evaluation:

```{r,echo=FALSE,message=FALSE, warning=FALSE}

# nonzero= st201504[st201504$count201504!=0,]
 
# nonzero= st201510[st201504$count201504!=0,]

# nonzero= st201604[st201604$count35!=0,]

nonzero201504 = st201504[st201504$count201504!=0,]
nonzero201504$Release="v201504"
nonzero201504$Frequency=nonzero201504$count201504
nonzero201504$count201504<-NULL

nonzero201510 = st201510[st201510$count201510!=0,]
nonzero201510$Release="v201510"
nonzero201510$Frequency=nonzero201510$count201510
nonzero201510$count201510<-NULL

nonzero201604 = st201604[st201604$count201604!=0,]
nonzero201604$Frequency=nonzero201604$count201604  
nonzero201604$count201604<-NULL
nonzero201604$Release="v201604"

nonzeroAllrelease=rbind(nonzero201604,nonzero201510,nonzero201504)

lastRelease=cbind(property,st201604)
lastRelease$id<-NULL
lastRelease$id<-NULL
# head(lastRelease)

lastReleaseDataset=lastRelease[lastRelease$count201604!=0,]

total=nrow(lastReleaseDataset)

no.incomplete=nrow(lastReleaseDataset[lastReleaseDataset$count201604<100,])

```

```{r,echo=FALSE}

ggplot(nonzeroAllrelease, aes(Frequency, fill = Release, colour = Release)) +
  geom_density(alpha = 0.1) +
  scale_x_continuous(trans='log10')+ 
  geom_vline(aes(xintercept=100),color="blue", linetype="dashed", size=.1)+ xlab("log10(Property Frequency)") 
 
```

Property list in 201604 with frequency:

```{r,echo=FALSE}
kable(lastReleaseDataset, format = "markdown")

```

No. of inconsistent property in 201604 release for Threshold value of 100 = `r no.incomplete`

```{r,echo=FALSE}
kable(lastReleaseDataset[lastReleaseDataset$count<100,], format = "markdown")
```


#### Completeness

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}

#----------------------------Completeness-------------------------------#
st=cbind(property,st201604,st201510)
# nrow(st)
st$id<-NULL
st$id<-NULL
st$id<-NULL
st$id<-NULL
head(st)

# normalized the value 
value201510= entityList[entityList$Release=="2015-10-02",]
value201604= entityList[entityList$Release=="2016-04-01",]

# Set last two releases
fullDataset=st[st$count201510!=0,]
# change header
# colnames(fullDataset)[which(names(fullDataset) == "count35")] <- "count201604"

nromFullDataSet=fullDataset

nromFullDataSet$norm201510=fullDataset$count201510/value201510$count

nromFullDataSet$norm201604=fullDataset$count201604/value201604$count

nromFullDataSet$diff=nromFullDataSet$norm201604-nromFullDataSet$norm201510

length(which(nromFullDataSet$diff<0))

nromFullDataSet$Complete=ifelse(nromFullDataSet$diff<0,0,1)

normCompletenssValue=nromFullDataSet[nromFullDataSet$count201604<nromFullDataSet$count201510,]

tableCompleteness=data.frame(Property=nromFullDataSet$property,v201604=nromFullDataSet$norm201604,v20510=nromFullDataSet$norm201510,Complete=nromFullDataSet$Complete)

# nrow(normCompletenssValue)

# Completeness value
completenessValue=fullDataset[fullDataset$count201604<fullDataset$count201510,]

```

List of Property over last two version:

```{r,echo=FALSE}
kable(tableCompleteness, format = "markdown")

```

Total no. of property =`r length(nromFullDataSet$norm201604)` No. of incomplete property = `r nrow(completenessValue)`

Percentage of completeness= `r ((length(nromFullDataSet$norm201604)-nrow(completenessValue))/length(nromFullDataSet$norm201604)) *100` %


List of incomplete property:

```{r,echo=FALSE}
kable(tableCompleteness[tableCompleteness$Complete==0,], format = "markdown")

```

#### KB growth 


```{r,echo=FALSE}

entity<-entityWithDays[entityWithDays$class==unclass[6],]

ND<-NormDist(entity)

graph<-plotEntity(entity)

graph

stab<-CheckND(ND)

```
The normalized distance(ND)= `r ND`

KB growth is 1 if ND<1 or KB growth is 0 if ND>=1

KB growth=`r stab`


### Class dbo Place

[http://dbpedia.org/ontology/Place]

Input: Set file location such as -

```{r}
location<- "/ExperimentalData/DBpedia/"
```

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}


entityData=entityDataSet[entityDataSet$class==unclass[7],]

p<-persistencyPlot(entityData)

```

#### Persistency

Persistency Measure Result:  `r entityData[nrow(entityData),3]` value  `r entityData[nrow(entityData),4]` < `r entityData[nrow(entityData)-1,3]` value  `r entityData[nrow(entityData)-1,4]`. So Persistency=  `r persistencyMeasure(entityData)`
Entity Count for 11 Release:

```{r,echo=FALSE}
kable(entityData[,-c(1)], format = "markdown")
shadeAreaP(p,entityData)

```


#### Historical Persitency

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}
histPer<-histPerAll(entityData)

```

Historical Persistency Measure Result: Total no. of class = `r length(unclass)` and No. of persistency=`r nrow(histPer[histPer$Persistency==0,])`. HistPersistencyMeasure= `r HistPersistencyMeasure(histPer)` %

Releases with persistency values:

```{r,echo=FALSE}
kable(histPer[,-c(1)], format = "markdown")
```

#### Consistency

```{r,echo=FALSE,comment=NA, results='hide', message=FALSE, warning=FALSE}
# entityList dbo:Animal Class
entityList=entityDataSet[entityDataSet$class==unclass[1],]

st201604=read.csv("./ExperimentalData/DBpedia/dbo-place/place-201604.csv")

st201510=read.csv("./ExperimentalData/DBpedia/dbo-place/place-201510.csv")

st201504=read.csv("./ExperimentalData/DBpedia/dbo-place/place-201504.csv")

intDataStructure=cbind(property,st201604,st201510,st201504)
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
head(intDataStructure)
# filter
filterData= intDataStructure[intDataStructure$count201510!=0,]
#dencityPlot
```

Threshold value evaluation:

```{r,echo=FALSE,message=FALSE, warning=FALSE}

# nonzero= st201504[st201504$count201504!=0,]
 
# nonzero= st201510[st201504$count201504!=0,]

# nonzero= st201604[st201604$count35!=0,]

nonzero201504 = st201504[st201504$count201504!=0,]
nonzero201504$Release="v201504"
nonzero201504$Frequency=nonzero201504$count201504
nonzero201504$count201504<-NULL

nonzero201510 = st201510[st201510$count201510!=0,]
nonzero201510$Release="v201510"
nonzero201510$Frequency=nonzero201510$count201510
nonzero201510$count201510<-NULL

nonzero201604 = st201604[st201604$count201604!=0,]
nonzero201604$Frequency=nonzero201604$count201604  
nonzero201604$count201604<-NULL
nonzero201604$Release="v201604"

nonzeroAllrelease=rbind(nonzero201604,nonzero201510,nonzero201504)

lastRelease=cbind(property,st201604)
lastRelease$id<-NULL
lastRelease$id<-NULL
# head(lastRelease)

lastReleaseDataset=lastRelease[lastRelease$count201604!=0,]

total=nrow(lastReleaseDataset)

no.incomplete=nrow(lastReleaseDataset[lastReleaseDataset$count201604<100,])

```

```{r,echo=FALSE}

ggplot(nonzeroAllrelease, aes(Frequency, fill = Release, colour = Release)) +
  geom_density(alpha = 0.1) +
  scale_x_continuous(trans='log10')+ 
  geom_vline(aes(xintercept=100),color="blue", linetype="dashed", size=.1)+ xlab("log10(Property Frequency)") 
 
```

Property list in 201604 with frequency:

```{r,echo=FALSE}


kable(lastReleaseDataset, format = "markdown")

#head(FilteredProperty)

```

No. of inconsistent property in 201604 release for Threshold value of 100 = `r no.incomplete`

```{r,echo=FALSE}
kable(lastReleaseDataset[lastReleaseDataset$count<100,], format = "markdown")
```


#### Completeness

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}

#----------------------------Completeness-------------------------------#
st=cbind(property,st201604,st201510)
# nrow(st)
st$id<-NULL
st$id<-NULL
st$id<-NULL
st$id<-NULL
head(st)

# normalized the value 
value201510= entityList[entityList$Release=="2015-10-02",]
value201604= entityList[entityList$Release=="2016-04-01",]

# Set last two releases
fullDataset=st[st$count201510!=0,]
# change header
# colnames(fullDataset)[which(names(fullDataset) == "count35")] <- "count201604"

nromFullDataSet=fullDataset

nromFullDataSet$norm201510=fullDataset$count201510/value201510$count

nromFullDataSet$norm201604=fullDataset$count201604/value201604$count

nromFullDataSet$diff=nromFullDataSet$norm201604-nromFullDataSet$norm201510

length(which(nromFullDataSet$diff<0))

nromFullDataSet$Complete=ifelse(nromFullDataSet$diff<0,0,1)

normCompletenssValue=nromFullDataSet[nromFullDataSet$count201604<nromFullDataSet$count201510,]

tableCompleteness=data.frame(Property=nromFullDataSet$property,v201604=nromFullDataSet$norm201604,v20510=nromFullDataSet$norm201510,Complete=nromFullDataSet$Complete)

# nrow(normCompletenssValue)

# Completeness value
completenessValue=fullDataset[fullDataset$count201604<fullDataset$count201510,]

```

List of Property over last two version:

```{r,echo=FALSE}
kable(tableCompleteness, format = "markdown")

```

Total no. of property =`r length(nromFullDataSet$norm201604)` No. of incomplete property = `r nrow(completenessValue)`

Percentage of completeness= `r ((length(nromFullDataSet$norm201604)-nrow(completenessValue))/length(nromFullDataSet$norm201604)) *100` %


List of incomplete property:

```{r,echo=FALSE}
kable(tableCompleteness[tableCompleteness$Complete==0,], format = "markdown")

```
#### KB growth 


```{r,echo=FALSE}

entity<-entityWithDays[entityWithDays$class==unclass[7],]

ND<-NormDist(entity)

graph<-plotEntity(entity)

graph

stab<-CheckND(ND)

```
The normalized distance(ND)= `r ND`

KB growth condition is 1 if ND<1 or KB growth is 0 if ND>=1

KB growth=`r stab`

### Class dbo Species

[http://dbpedia.org/ontology/Species]

Input: Set file location such as -

```{r}
location<- "/ExperimentalData/DBpedia/"
```

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}



entityData=entityDataSet[entityDataSet$class==unclass[8],]

p<-persistencyPlot(entityData)

```

#### Persistency

Persistency Measure Result:  `r entityData[nrow(entityData),3]` value  `r entityData[nrow(entityData),4]` < `r entityData[nrow(entityData)-1,3]` value  `r entityData[nrow(entityData)-1,4]`. So Persistency=  `r persistencyMeasure(entityData)`
Entity Count for 11 Release:

```{r,echo=FALSE}
kable(entityData[,-c(1)], format = "markdown")
shadeAreaP(p,entityData)

```


#### Historical Persitency

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}
histPer<-histPerAll(entityData)

```

Historical Persistency Measure Result: Total no. of class = `r length(unclass)` and No. of persistency=`r nrow(histPer[histPer$Persistency==0,])`. HistPersistencyMeasure= `r HistPersistencyMeasure(histPer)` %

Releases with persistency values:

```{r,echo=FALSE}
kable(histPer[,-c(1)], format = "markdown")
```


#### Consistency

```{r,echo=FALSE,comment=NA, results='hide', message=FALSE, warning=FALSE}
# entityList dbo:Animal Class
entityList=entityDataSet[entityDataSet$class==unclass[1],]

st201604=read.csv("./ExperimentalData/DBpedia/dbo-species/species-201604.csv")

st201510=read.csv("./ExperimentalData/DBpedia/dbo-species/species-201510.csv")

st201504=read.csv("./ExperimentalData/DBpedia/dbo-species/species-201504.csv")

intDataStructure=cbind(property,st201604,st201510,st201504)
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
head(intDataStructure)
# filter
filterData= intDataStructure[intDataStructure$count201510!=0,]
#dencityPlot
```

Threshold value evaluation:

```{r,echo=FALSE,message=FALSE, warning=FALSE}

# nonzero= st201504[st201504$count201504!=0,]
 
# nonzero= st201510[st201504$count201504!=0,]

# nonzero= st201604[st201604$count35!=0,]

nonzero201504 = st201504[st201504$count201504!=0,]
nonzero201504$Release="v201504"
nonzero201504$Frequency=nonzero201504$count201504
nonzero201504$count201504<-NULL

nonzero201510 = st201510[st201510$count201510!=0,]
nonzero201510$Release="v201510"
nonzero201510$Frequency=nonzero201510$count201510
nonzero201510$count201510<-NULL

nonzero201604 = st201604[st201604$count201604!=0,]
nonzero201604$Frequency=nonzero201604$count201604  
nonzero201604$count201604<-NULL
nonzero201604$Release="v201604"

nonzeroAllrelease=rbind(nonzero201604,nonzero201510,nonzero201504)

lastRelease=cbind(property,st201604)
lastRelease$id<-NULL
lastRelease$id<-NULL
# head(lastRelease)

lastReleaseDataset=lastRelease[lastRelease$count201604!=0,]

total=nrow(lastReleaseDataset)

no.incomplete=nrow(lastReleaseDataset[lastReleaseDataset$count201604<100,])

```

```{r,echo=FALSE}

ggplot(nonzeroAllrelease, aes(Frequency, fill = Release, colour = Release)) +
  geom_density(alpha = 0.1) +
  scale_x_continuous(trans='log10')+ 
  geom_vline(aes(xintercept=100),color="blue", linetype="dashed", size=.1)+ xlab("log10(Property Frequency)") 

```

Property list in 201604 with frequency:

```{r,echo=FALSE}


kable(lastReleaseDataset, format = "markdown")

#head(FilteredProperty)

```

No. of inconsistent property in 201604 release for Threshold value of 100 = `r no.incomplete`

```{r,echo=FALSE}
kable(lastReleaseDataset[lastReleaseDataset$count<100,], format = "markdown")
```


#### Completeness

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}

#----------------------------Completeness-------------------------------#
st=cbind(property,st201604,st201510)
# nrow(st)
st$id<-NULL
st$id<-NULL
st$id<-NULL
st$id<-NULL
head(st)

# normalized the value 
value201510= entityList[entityList$Release=="2015-10-02",]
value201604= entityList[entityList$Release=="2016-04-01",]

# Set last two releases
fullDataset=st[st$count201510!=0,]
# change header
# colnames(fullDataset)[which(names(fullDataset) == "count35")] <- "count201604"

nromFullDataSet=fullDataset

nromFullDataSet$norm201510=fullDataset$count201510/value201510$count

nromFullDataSet$norm201604=fullDataset$count201604/value201604$count

nromFullDataSet$diff=nromFullDataSet$norm201604-nromFullDataSet$norm201510

length(which(nromFullDataSet$diff<0))

nromFullDataSet$Complete=ifelse(nromFullDataSet$diff<0,0,1)

normCompletenssValue=nromFullDataSet[nromFullDataSet$count201604<nromFullDataSet$count201510,]

tableCompleteness=data.frame(Property=nromFullDataSet$property,v201604=nromFullDataSet$norm201604,v20510=nromFullDataSet$norm201510,Complete=nromFullDataSet$Complete)

# nrow(normCompletenssValue)

# Completeness value
 completenessValue=fullDataset[fullDataset$count201604<fullDataset$count201510,]

```

List of Property over last two version:

```{r,echo=FALSE}
kable(tableCompleteness, format = "markdown")

```

Total no. of property =`r length(nromFullDataSet$norm201604)` No. of incomplete property = `r nrow(completenessValue)`

Percentage of completeness= `r ((length(nromFullDataSet$norm201604)-nrow(completenessValue))/length(nromFullDataSet$norm201604)) *100` %


List of incomplete property:

```{r,echo=FALSE}
kable(tableCompleteness[tableCompleteness$Complete==0,], format = "markdown")

```

#### KB growth 


```{r,echo=FALSE}

entity<-entityWithDays[entityWithDays$class==unclass[8],]

ND<-NormDist(entity)

graph<-plotEntity(entity)

graph

stab<-CheckND(ND)

```
The normalized distance(ND)= `r ND`

KB growth is 1 if ND<1 or KB growth is 0 if ND>=1

KB growth=`r stab`


### Class dbo Work

[http://dbpedia.org/ontology/Work]

Input: Set file location such as -

```{r}
location<- "/ExperimentalData/DBpedia/"
```

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}


entityData=entityDataSet[entityDataSet$class==unclass[9],]

p<-persistencyPlot(entityData)

```

#### Persistency

Persistency Measure Result:  `r entityData[nrow(entityData),3]` value  `r entityData[nrow(entityData),4]` < `r entityData[nrow(entityData)-1,3]` value  `r entityData[nrow(entityData)-1,4]`. So Persistency=  `r persistencyMeasure(entityData)`
Entity Count for 11 Release:

```{r,echo=FALSE}
kable(entityData[,-c(1)], format = "markdown")
shadeAreaP(p,entityData)

```


#### Historical Persitency

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}
histPer<-histPerAll(entityData)

```

Historical Persistency Measure Result: Total no. of class = `r length(unclass)` and No. of persistency=`r nrow(histPer[histPer$Persistency==0,])`. HistPersistencyMeasure= `r HistPersistencyMeasure(histPer)` %

Releases with persistency values:

```{r,echo=FALSE}
kable(histPer[,-c(1)], format = "markdown")
```


#### Consistency

```{r,echo=FALSE,comment=NA, results='hide', message=FALSE, warning=FALSE}
# entityList dbo:Animal Class
entityList=entityDataSet[entityDataSet$class==unclass[1],]

st201604=read.csv("./ExperimentalData/DBpedia/dbo-work/work-201604.csv")

st201510=read.csv("./ExperimentalData/DBpedia/dbo-work/work-201510.csv")

st201504=read.csv("./ExperimentalData/DBpedia/dbo-work/work-201504.csv")

intDataStructure=cbind(property,st201604,st201510,st201504)
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
head(intDataStructure)
# filter
filterData= intDataStructure[intDataStructure$count201510!=0,]
#dencityPlot
```

Threshold value evaluation:

```{r,echo=FALSE,message=FALSE, warning=FALSE}

# nonzero= st201504[st201504$count201504!=0,]
 
# nonzero= st201510[st201504$count201504!=0,]

# nonzero= st201604[st201604$count35!=0,]

nonzero201504 = st201504[st201504$count201504!=0,]
nonzero201504$Release="v201504"
nonzero201504$Frequency=nonzero201504$count201504
nonzero201504$count201504<-NULL

nonzero201510 = st201510[st201510$count201510!=0,]
nonzero201510$Release="v201510"
nonzero201510$Frequency=nonzero201510$count201510
nonzero201510$count201510<-NULL

nonzero201604 = st201604[st201604$count201604!=0,]
nonzero201604$Frequency=nonzero201604$count201604  
nonzero201604$count201604<-NULL
nonzero201604$Release="v201604"

nonzeroAllrelease=rbind(nonzero201604,nonzero201510,nonzero201504)

lastRelease=cbind(property,st201604)
lastRelease$id<-NULL
lastRelease$id<-NULL
# head(lastRelease)

lastReleaseDataset=lastRelease[lastRelease$count201604!=0,]

total=nrow(lastReleaseDataset)

no.incomplete=nrow(lastReleaseDataset[lastReleaseDataset$count201604<100,])

```

```{r,echo=FALSE}

ggplot(nonzeroAllrelease, aes(Frequency, fill = Release, colour = Release)) +
  geom_density(alpha = 0.1) +
  scale_x_continuous(trans='log10')+ 
  geom_vline(aes(xintercept=100),color="blue", linetype="dashed", size=.1)+ xlab("log10(Property Frequency)") 
 
```

Property list in 201604 with frequency:

```{r,echo=FALSE}


kable(lastReleaseDataset, format = "markdown")

#head(FilteredProperty)

```

No. of inconsistent property in 201604 release for Threshold value of 100 = `r no.incomplete`

```{r,echo=FALSE}
kable(lastReleaseDataset[lastReleaseDataset$count<100,], format = "markdown")
```


#### Completeness

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}

#----------------------------Completeness-------------------------------#
st=cbind(property,st201604,st201510)
# nrow(st)
st$id<-NULL
st$id<-NULL
st$id<-NULL
st$id<-NULL
head(st)

# normalized the value 
value201510= entityList[entityList$Release=="2015-10-02",]
value201604= entityList[entityList$Release=="2016-04-01",]

# Set last two releases
fullDataset=st[st$count201510!=0,]
# change header
# colnames(fullDataset)[which(names(fullDataset) == "count35")] <- "count201604"

nromFullDataSet=fullDataset

nromFullDataSet$norm201510=fullDataset$count201510/value201510$count

nromFullDataSet$norm201604=fullDataset$count201604/value201604$count

nromFullDataSet$diff=nromFullDataSet$norm201604-nromFullDataSet$norm201510

length(which(nromFullDataSet$diff<0))

nromFullDataSet$Complete=ifelse(nromFullDataSet$diff<0,0,1)

normCompletenssValue=nromFullDataSet[nromFullDataSet$count201604<nromFullDataSet$count201510,]

tableCompleteness=data.frame(Property=nromFullDataSet$property,v201604=nromFullDataSet$norm201604,v20510=nromFullDataSet$norm201510,Complete=nromFullDataSet$Complete)

# nrow(normCompletenssValue)

# Completeness value
 completenessValue=fullDataset[fullDataset$count201604<fullDataset$count201510,]

```

List of Property over last two version:

```{r,echo=FALSE}
kable(tableCompleteness, format = "markdown")

```

Total no. of property =`r length(nromFullDataSet$norm201604)` No. of incomplete property = `r nrow(completenessValue)`

Percentage of completeness= `r ((length(nromFullDataSet$norm201604)-nrow(completenessValue))/length(nromFullDataSet$norm201604)) *100` %


List of incomplete property:

```{r,echo=FALSE}
kable(tableCompleteness[tableCompleteness$Complete==0,], format = "markdown")

```

#### KB growth 


```{r,echo=FALSE}

entity<-entityWithDays[entityWithDays$class==unclass[9],]

ND<-NormDist(entity)

graph<-plotEntity(entity)

graph

stab<-CheckND(ND)

```
The normalized distance(ND)= `r ND`

KB growth is 1 if ND<1 or KB growth is 0 if ND>=1

KB growth=`r stab`



### Class foaf Person

[http://xmlns.com/foaf/0.1/Person]

Input: Set file location such as -

```{r}
location<- "/ExperimentalData/DBpedia/"
```

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}

entityData=entityDataSet[entityDataSet$class==unclass[10],]

p<-persistencyPlot(entityData)

```

#### Persistency

Persistency Measure Result:  `r entityData[nrow(entityData),3]` value  `r entityData[nrow(entityData),4]` < `r entityData[nrow(entityData)-1,3]` value  `r entityData[nrow(entityData)-1,4]`. So Persistency=  `r persistencyMeasure(entityData)`
Entity Count for 11 Release:

```{r,echo=FALSE}
kable(entityData[,-c(1)], format = "markdown")
shadeAreaP(p,entityData)

```


#### Historical Persitency

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}
histPer<-histPerAll(entityData)

```

Historical Persistency Measure Result: Total no. of class = `r length(unclass)` and No. of persistency=`r nrow(histPer[histPer$Persistency==0,])`. HistPersistencyMeasure= `r HistPersistencyMeasure(histPer)` %

Releases with persistency values:

```{r,echo=FALSE}
kable(histPer[,-c(1)], format = "markdown")
```



#### Consistency

```{r,echo=FALSE,comment=NA, results='hide', message=FALSE, warning=FALSE}
# entityList dbo:Animal Class
entityList=entityDataSet[entityDataSet$class==unclass[1],]

st201604=read.csv("./ExperimentalData/DBpedia/foaf-person/person-201604.csv")

st201510=read.csv("./ExperimentalData/DBpedia/foaf-person/person-201510.csv")

st201504=read.csv("./ExperimentalData/DBpedia/foaf-person/person-201504.csv")

intDataStructure=cbind(property,st201604,st201510,st201504)
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
intDataStructure$id<-NULL
head(intDataStructure)
# filter
filterData= intDataStructure[intDataStructure$count201510!=0,]
#dencityPlot
```

Threshold value evaluation:

```{r,echo=FALSE,message=FALSE, warning=FALSE}

# nonzero= st201504[st201504$count201504!=0,]
 
# nonzero= st201510[st201504$count201504!=0,]

# nonzero= st201604[st201604$count35!=0,]

nonzero201504 = st201504[st201504$count201504!=0,]
nonzero201504$Release="v201504"
nonzero201504$Frequency=nonzero201504$count201504
nonzero201504$count201504<-NULL

nonzero201510 = st201510[st201510$count201510!=0,]
nonzero201510$Release="v201510"
nonzero201510$Frequency=nonzero201510$count201510
nonzero201510$count201510<-NULL

nonzero201604 = st201604[st201604$count201604!=0,]
nonzero201604$Frequency=nonzero201604$count201604  
nonzero201604$count201604<-NULL
nonzero201604$Release="v201604"

nonzeroAllrelease=rbind(nonzero201604,nonzero201510,nonzero201504)

lastRelease=cbind(property,st201604)
lastRelease$id<-NULL
lastRelease$id<-NULL
# head(lastRelease)

lastReleaseDataset=lastRelease[lastRelease$count201604!=0,]

total=nrow(lastReleaseDataset)

no.incomplete=nrow(lastReleaseDataset[lastReleaseDataset$count201604<100,])

```

```{r,echo=FALSE}

ggplot(nonzeroAllrelease, aes(Frequency, fill = Release, colour = Release)) +
  geom_density(alpha = 0.1) +
  scale_x_continuous(trans='log10') + 
  geom_vline(aes(xintercept = 100),color="blue", linetype="dashed", size=.1)+ xlab("log10(Property Frequency)") 
 
```

Property list in 201604 with frequency:

```{r,echo=FALSE}


kable(lastReleaseDataset, format = "markdown")

#head(FilteredProperty)

```

No. of inconsistent property in 201604 release with Threshold value of 100 = `r no.incomplete`

```{r,echo=FALSE}
kable(lastReleaseDataset[lastReleaseDataset$count<100,], format = "markdown")
```


#### Completeness

```{r,echo=FALSE,comment=NA,results='hide', message=FALSE, warning=FALSE}

#----------------------------Completeness-------------------------------#
st=cbind(property,st201604,st201510)
# nrow(st)
st$id<-NULL
st$id<-NULL
st$id<-NULL
st$id<-NULL
head(st)

# normalized the value 
value201510= entityList[entityList$Release=="2015-10-02",]
value201604= entityList[entityList$Release=="2016-04-01",]

# Set last two releases
fullDataset=st[st$count201510!=0,]
# change header
# colnames(fullDataset)[which(names(fullDataset) == "count35")] <- "count201604"

nromFullDataSet=fullDataset

nromFullDataSet$norm201510=fullDataset$count201510/value201510$count

nromFullDataSet$norm201604=fullDataset$count201604/value201604$count

nromFullDataSet$diff=nromFullDataSet$norm201604-nromFullDataSet$norm201510

length(which(nromFullDataSet$diff<0))

nromFullDataSet$Complete=ifelse(nromFullDataSet$diff<0,0,1)

normCompletenssValue=nromFullDataSet[nromFullDataSet$count201604<nromFullDataSet$count201510,]

tableCompleteness=data.frame(Property=nromFullDataSet$property,v201604=nromFullDataSet$norm201604,v20510=nromFullDataSet$norm201510,Complete=nromFullDataSet$Complete)

# nrow(normCompletenssValue)

# Completeness value
 completenessValue=fullDataset[fullDataset$count201604<fullDataset$count201510,]

```

List of Property over last two version:

```{r,echo=FALSE}
kable(tableCompleteness, format = "markdown")

```

Total no. of property =`r length(nromFullDataSet$norm201604)` No. of incomplete property = `r nrow(completenessValue)`

Percentage of completeness= `r ((length(nromFullDataSet$norm201604)-nrow(completenessValue))/length(nromFullDataSet$norm201604)) *100` %


List of incomplete property:

```{r,echo=FALSE}
kable(tableCompleteness[tableCompleteness$Complete==0,], format = "markdown")

```



#### KB growth 


```{r,echo=FALSE}

entity<-entityWithDays[entityWithDays$class==unclass[10],]

ND<-NormDist(entity)

graph<-plotEntity(entity)

graph

stab<-CheckND(ND)

```

The normalized distance(ND)= `r ND`

KB growth condition is 1 if ND<1 or KB growth is 0 if ND>=1

KB growth=`r stab`

